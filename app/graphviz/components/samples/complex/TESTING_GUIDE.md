# 複雑なネットワーク構造のテストガイド

## テスト手順

### 1. 単一ファイルでのテスト

#### Topology Viewのテスト
1. Tab1を開く
2. サンプルから「complex_topology」を選択
3. Viewを「Topology」に設定
4. 以下を確認：
   - ServiceNWとHW管理NWが2つのクラスターとして表示される
   - 各ネットワークのレイヤーが階層的に表示される
   - バリアント（Leaf (GTR接続)、Storage Leaf等）が表示される

#### Connection Viewのテスト
1. サンプルから「complex_links」を選択
2. Viewを「Connection」に設定
3. 以下を確認：
   - 接続に含まれるデバイスがノードとして表示される
   - 接続関係がエッジとして表示される
   - ケーブルタイプ情報がラベルに表示される
   - 別フロア接続が赤色・破線で表示される

### 2. 複雑な構造での課題と確認事項

#### 課題1: ノード数が多い場合のパフォーマンス
- **確認**: 21デバイス + 30接続の表示速度
- **期待**: 3秒以内にレンダリング完了
- **問題がある場合**: ノード数制限の警告を表示

#### 課題2: ケーブルタイプ情報の表示
- **確認**: 接続のラベルにケーブルタイプが表示されるか
- **期待**: ポート情報とケーブルタイプが両方表示される
- **問題がある場合**: ツールチップまたは別ウィンドウで詳細表示

#### 課題3: 別フロア・別ラックの表現
- **確認**: 別フロア接続が視覚的に区別されるか
- **期待**: 赤色・破線で表示される
- **問題がある場合**: 色やスタイルを調整

#### 課題4: 複数ネットワークの統合表示
- **確認**: ServiceNWとHW管理NWが同時に表示されるか
- **期待**: クラスター（subgraph）で分離表示される
- **問題がある場合**: クラスターのスタイルを調整

### 3. 各Viewタイプでの確認事項

#### Topology View
- ✅ ネットワークがクラスターとして表示される
- ✅ レイヤーが階層的に表示される
- ✅ バリアントが表示される

#### Device View
- ✅ デバイスがノードとして表示される
- ✅ ポートがサブノードとして表示される（オプション）
- ✅ デバイスとポートの関係が表示される

#### Connection View
- ✅ 接続関係のみが表示される
- ✅ ケーブルタイプ情報が表示される
- ✅ 別フロア・別ラックが色分けされる

#### Full View
- ✅ すべての情報が統合表示される
- ✅ ノードが重複しない
- ✅ レイアウトが適切

#### Intent View
- ⚠️ ルール違反のハイライト（将来実装）
- ✅ 現時点ではFull Viewと同じ

### 4. エラーハンドリングの確認

#### 不正なYAML形式
- 不正なYAMLを入力
- エラーメッセージが表示されることを確認

#### 欠損データ
- デバイス参照が存在しない接続
- エラーハンドリングが適切か確認

#### 大きなファイル
- 100接続以上のYAMLファイル
- パフォーマンスが許容範囲内か確認

## 期待される動作

### 正常系
1. YAMLを入力 → DOTコードが生成される
2. DOTコードが生成される → Graphvizで表示される
3. Viewを切り替える → 適切なViewが表示される
4. サンプルを読み込む → 正しいYAMLが読み込まれる

### 異常系
1. 不正なYAML → エラーメッセージが表示される
2. ライブラリ未インストール → インストール手順が表示される
3. 大きなグラフ → パフォーマンス警告が表示される（将来実装）

## 次のステップ

Phase 2で実装すべき機能：
1. 複数ファイル統合機能
2. フィルタリング機能
3. ズーム・パン機能
4. 詳細情報表示
5. エクスポート機能

